{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="IP-Locator App">
    <meta name="author" content="JackShen">

    <meta property="og:title" content="IP-Locator App" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://jackshen.herokuapp.com/ip-locator/" />

    <title>IP Locator</title>
    <link rel="icon" href="{% static 'home/ico/logo.ico' %}" type="image/x-icon">

    <!-- Bootstrap core CSS -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

    {% block extrahead %}
    <link rel="stylesheet" href="{% static 'libs/normalize.min.css' %}">
    <link rel="stylesheet" href="{% static 'ip-locator/css/main.css' %}">
    {% endblock extrahead %}
</head>
<body>
<nav class="navbar navbar-expand-lg">
    <button class="navbar-toggler " type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon ">
            <i class="fa fa-navicon" style="color:#fff; font-size:28px;"></i>
        </span>
    </button>

    <a class="navbar-brand text-white" href="#"><i class="fa fa-map-marker fa-lg" aria-hidden="true" style="color: #edc81c;"></i> IP Locator</a>
    <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
        <form class="form-inline my-2 my-lg-0 ml-auto" method="GET">
            <input class="form-control mr-sm-2" autocomplete="off" name="ip_address" id="ip_address" type="text" placeholder="Search IP" aria-label="Search" required>
            <button class="btn btn-outline-warning my-2 my-sm-0" type="submit">Search</button>
        </form>
    </div>
</nav>

<div class="container-fluid">
    <div class="container">
        <br><h3 class="text-center detection">IP Address: <b>{{ data.ip }}</b></h3><br>
    </div>
</div>

<div class="container-fluid">
    <div style="text-align: center;">
        <table class="table table-hover table-responsive-md text-center">
            <thead>
            <tr>
                <th class="text-light">Attributes</th>
                <th class="text-light">Data</th>
            </tr>
            </thead>

            <tbody>
            <tr>
                <td>Address</td>
                <td>
                    {{ data.country }}, {{ data.region }}, {{ data.city }}
                </td>
            </tr>

            <tr>
                <td>Country Flag</td>
                <td>
                    <p>
                        <img src={{ data.country_flag }} height="10%" width="10%" border="1px" alt="country flag">
                    </p>
                </td>
            </tr>

            <tr>
                <td>Country</td>
                <td>{{data.country}}</td>
            </tr>

            <tr>
                <td>Region</td>
                <td>{{data.region}}</td>
            </tr>

            <tr>
                <td>City</td>
                <td><i class="fa fa-info-circle"></i><a href="{{page_link}}" target="_blank" rel="noopener"> {{data.city}}</a> </td>
            </tr>

            <tr>
                <td>Organisation</td>
                <td>{{data.org}}</td>
            </tr>

            <tr>
                <td>Latitude</td>
                <td>{{data.latitude}}</td>
            </tr>

            <tr>
                <td>Longitude</td>
                <td>{{data.longitude}}</td>
            </tr>

            <tr>
                <td>Timezone</td>
                <td>{{data.timezone}}</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>


<div class="embed-responsive embed-responsive-21by9">
    <iframe class="embed-responsive-item" src="{{ map_url }}" title="Google Map Location" allowfullscreen></iframe>
</div>

<!-- jQuery and Bootstrap core JS, plus Popper -->
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>

<script src="{% static 'ip-locator/js/main.js' %}"></script>
</body>
</html>